<div id="page_elements">
    {% if elements_count > 2 %}
    <div class="row px-5">
        <div class="mx-auto w-100 border border-dark p-4 text-center"  style="border-style:dashed !important">
                <div class="">
                    <button type="button" class="btn btn-primary site-button mb-2" 
                    data-toggle="modal" data-target="#exampleModalCenter">
                        Select an element to add
                        <i class="fa fa-plus"></i>        
                    </button>
                </div>
        </div>
    </div>
    {% endif %}

    {% for element in quiz_page_elements %}

    
    <div class="row px-5 my-3">
        <i class="py-1">
            {{element.element.page_element.position}}. {{element.type}}
        </i> 
        
        <div class="mx-auto w-100 border border-dark p-2"  style="border-style:dashed !important">
            <a hx-get={% url 'edit_element_modal' user_quiz.id quiz_page.id element.element.page_element.id %}
                hx-target='#editModalContent'
                hx-swap=innerHTML
             data-toggle="modal" data-target="#editModal">
                <span type="button" class="float-right ml-auto fs-24 text-dark mb-0 mt-2 align-items-center">Edit <i class="fa fa-edit"></i></span>
            </a>
            
            <div class="p-4 d-flex align-items-center ">
                <div class="list-icon mr-3 mb-3">
                    <p type="button" 
                        hx-get={% url 'move_element_up' user_quiz.id quiz_page.id element.element.page_element.id %}
                        hx-target='#page_elements'
                        hx-swap=outerHTML
                        class="fs-24 text-dark mb-0 mt-2"><i class="fa fa-chevron-up"></i></p>
                    <p type="button"
                        hx-get={% url 'move_element_down' user_quiz.id quiz_page.id element.element.page_element.id %}
                        hx-target='#page_elements'
                        hx-swap=outerHTML       
                        class="fs-24 text-dark mb-0 mt-2"><i class="fa fa-chevron-down"></i></p>
                </div>

                <br>
                {% autoescape off %}
                <div>
                    {{element.element.content}}
                </div>
                {% endautoescape %}
                <div>
                    {% if element.type == 'Text input element' or  element.type == 'Char input element' or  element.type == 'Email input element' %}
                    <i>Question title:</i> <b>{{element.element.title}}</b>
                    {% endif %}

                </div>
                
            </div>
            <span type="button" hx-confirm="Are you sure you want to delete this {{element.type}}?" hx-target='#page_elements' hx-delete={% url 'delete_page_element' user_quiz.id quiz_page.id element.element.page_element.id %} class="float-right ml-auto d-flex fs-24 text-dark mb-0 mt-2">Delete <i class="mdi mdi-close"></i></span>
        </div>
    </div>
    {% endfor %}
</div>

{% include 'quiz_page_element_edit_modal.html' %}

<script>
    document.querySelector('#editModalContent > div.modal-header > button').click()
</script>

{% if edit %}

<script>
    document.querySelector('#editModalContent > div.modal-body > form > div > button.btn.btn-danger.light').click()</script>
{% endif %}